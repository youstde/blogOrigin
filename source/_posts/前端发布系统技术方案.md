---
title: 前端发布系统技术方案
date: 2018-02-28 10:36:46
tags:
---

前端发布系统技术方案

目标

1. 区分环境发布（开发、日常、预发、线上）。
2. 增加流程监控，禁止随意发布。
3. 一. 键快速回滚。
4. 增加代码检测功能（以后）

技术方案

1. 以git仓库为维度发布项目
2. 必须从master切出新的发布分支
3. git master为主干，禁止开发人员操作master，主干用于发布后代码合并，并且发布后打上tag。
4. 如果需要回滚，选择相应tag回滚。

详点

组配置

一个host对应一个组，每个组下面分仓库发布。

如：crm.adbaitai.com/crm->crm.adbaitai.com/crm 我们使用oschina可能在命名上会有瑕疵

- host地址
- ip地址
- 服务端webserve路径
- 端口地址
- git组地址
- 备注说明

项目配置

- git仓库地址，需要和相应组配置的git组地址对上
- 项目名（不能手工，自动从仓库地址分解）
- 说明
- 开发人员
- 测试人员

项目日常发布

1. 选择发布的版本
2. 版本号大于等于之前的版本
3. 发布的理由
4. 显示发布列表

项目预发发布

1. 必须发布过日常（待选）
2. 版本号于等于之前发布版本
3. 发布的理由
4. 显示发布列表

项目线上发布

1. 必须发布过预发
2. 版本号要大于线上版本
3. 发布的理由
4. 显示发布列表
5. 列表有回滚操作

技术架构

nodejs mysql vue html5 css3



思维导图
<img src="http://oss.ltcdn.cc/cow/2017/11/27/828w_2041h_1A2971511775613_origin.png" width="300px"/>
