---
title: 工作笔记
date: 2018-05-25 15:58:04
tags:
---

1.Charles代理的时候，将目标地址生成短链

2.复杂请求在跨域的情况下会发送预请求（包括子域）

解决办法：放在同一个域下面，如果没办法放在同一个域下可以将预请求进行缓存，不用每次都发预请求

3.因为canvas中的getImageData方法不支持跨域，所以当参数fillStyle=image时，fillContent填的图片地址必须与主文件同域，否则程序会把自动涂抹功能改为刮了【percent/10】次之后自动抹去。
如果图片不得不跨域，则考虑以下两种解决方案

- 通过一个自定义接口，把图片转换成base64编码后再引用
- 从网络层面设置图片服务器的响应头 Access-Control-Allow-Origin:*